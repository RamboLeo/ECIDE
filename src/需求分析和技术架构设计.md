
# 需求分析和技术架构设计

## 1. 功能需求

### 1.1 客户端功能
- **用户认证**: 支持用户账号密码登录。
- **项目管理**: 支持导入本地Python项目文件（文件夹）。
- **代码编辑**: 提供基本的代码编辑功能，例如语法高亮、行号显示等。
- **代码运行**: 客户端编写的代码在本地环境下运行，不依赖服务器。
- **代码提交**: 用户可以将当前编辑的代码提交到服务器。

### 1.2 服务器端功能
- **用户认证**: 接收客户端的用户登录请求，进行身份验证。
- **代码接收与存储**: 接收不同用户提交的代码，并进行存储。
- **用户数据管理**: 管理用户账号信息和其提交的代码记录。

## 2. 技术架构设计

### 2.1 整体架构
采用C/S（客户端/服务器）架构。客户端负责用户交互、代码编辑和本地运行，服务器端负责用户认证和代码存储。

### 2.2 技术栈选择
- **服务器端**: 
  - **框架**: Flask (轻量级、易于开发和部署)
  - **数据库**: SQLite (简单、无需独立服务器，适合小型项目或原型开发)
  - **API**: RESTful API
- **客户端**: 
  - **语言**: Python
  - **GUI框架**: Tkinter (Python内置，易于上手，满足基本界面需求)

### 2.3 数据库设计
- **用户表 (Users)**:
  - `id` (Primary Key, Integer)
  - `username` (Unique, String)
  - `password_hash` (String)
- **代码提交表 (CodeSubmissions)**:
  - `id` (Primary Key, Integer)
  - `user_id` (Foreign Key to Users.id, Integer)
  - `project_name` (String)
  - `file_path` (String, 相对路径)
  - `code_content` (Text)
  - `submission_timestamp` (DateTime)

### 2.4 API接口规范
- **用户认证**:
  - `POST /api/register`: 用户注册
    - 请求: `username`, `password`
    - 响应: `success`, `message`
  - `POST /api/login`: 用户登录
    - 请求: `username`, `password`
    - 响应: `success`, `message`, `token` (用于后续认证)
- **代码提交**:
  - `POST /api/submit_code`: 提交代码
    - 请求: `token`, `project_name`, `file_path`, `code_content`
    - 响应: `success`, `message`


