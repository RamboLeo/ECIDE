<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Python IDE 后端系统</title>
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; padding:40px; background:#f3f6fb; color:#112; }
    .card { background:white; padding:20px; border-radius:12px; max-width:560px; margin:auto; box-shadow:0 6px 18px rgba(15,23,42,0.06); }
    input { padding:10px 12px; border-radius:8px; border:1px solid #e6eef6; width:100%; margin-top:8px; box-sizing:border-box; }
    button { padding:10px 14px; border-radius:8px; border:none; background:#2563eb; color:white; margin-top:12px; cursor:pointer; width:100%; }
  </style>
</head>
<body>
  <div class="card">
    <h2>Python IDE 后端系统</h2>
    <p>用于代码提交与管理员管理。请用管理员账号登录以访问管理面板。</p>
    <div>
      <label>用户名</label>
      <input id="username" value="mc">
      <label>密码</label>
      <input id="password" type="password" value="mc">
      <button onclick="login()">登录并进入管理员面板</button>
    </div>
  </div>
<script>
async function login() {
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    const r = await fetch('/api/login', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ username, password }) });
    const d = await r.json();
    if (d.success) {
        localStorage.setItem('token', d.token);
        alert('登录成功，跳转管理员面板');
        location.href = '/admin';
    } else {
        alert('登录失败: ' + (d.message || ''));
    }
}
</script>
</body>
</html>
